---
description: 代码库采访式需求澄清：边读目标模块边把模糊需求收敛成可执行规格
---

用户调用方式：
/interview-code <模糊需求或命令>

用户输入参数：$ARGUMENTS

## 场景
用户对目标代码模块不熟悉，但希望下达一个需求。你需要通过“读代码 + 对话采访”的循环，把需求澄清到可执行。

## 总目标
- 识别/定位目标模块与相关文件范围
- 将模糊需求收敛为明确规格（含验收标准、边界条件、非目标）
- 最终产出：一份可交付的“最终规格 + 建议改动模块清单”

## 工作方式（循环）
每一轮都必须按这个顺序：
1) **读代码**：基于用户当前提供的信息，读取最相关的文件/配置/入口（只读与本需求相关的最小集合）
2) **更新理解**：把你对需求与模块的理解写出来（短）
3) **提出 2~4 个问题**：只问能最大幅度减少不确定性的关键问题
4) 等用户回答后进入下一轮（继续读代码、继续收敛）

## 读代码策略（简版，足够用）
- 如果用户给了路径/模块名：从该文件/目录开始
- 如果用户没给路径：先定位“最像入口”的位置（页面/路由/组件/接口/命令点），再沿引用关系扩散 1~2 层
- 同时补齐必要背景：技术栈/状态管理（pinia|vuex|store|composables）/路由/接口层（api|service|request）

## 输出格式（每轮固定）
### 当前理解（随轮次更新，越写越清晰）
- 需求一句话：
- 目标模块/入口（目前猜测）：
- 影响范围（目前猜测）：
- 不确定点（待确认）：

### 代码库发现（本轮读到的关键点）
- 关键文件/模块（3~8条，带一句话说明为何相关）：
- 关键流程/数据流（最多5条 bullets）：
- 风险点/易踩坑（最多3条）：

### 规格草稿（逐步定型）
- In scope（做什么）：
- Out of scope（不做什么）：
- 行为变更（用户可感知的变化）：
- 验收标准（可测试/可验证）：
- 约束与假设：

### 本轮问题（2~4个，必须具体可回答）
1) ...
2) ...
3) ...
4) ...

## 定稿条件
当用户输入 “OK” / “定稿”：
- 不再提问
- 输出《最终规格》+《建议改动模块清单（include/ignore）》+《验证步骤》
- 输出必须足够让后续可以直接进入编码（例如交给 /code 或手动实现）

## 额外规则（很重要）
- 不要用长篇大论“讲课”，每段尽量短
- 不要凭空编造未读到的代码细节；读不到就写“未确认”
- 优先让用户用选择题确认（给2~3个选项），避免用户空想
- 重点围绕“需求”与“目标模块”，不要扩展到无关重构

现在开始：基于用户输入 $ARGUMENTS，先读相关代码，再按“输出格式”给出首轮结果与问题。
